
import { classes } from "../utils/classes.js"
import { objects } from "../world/objects.js"





let map = 	[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,],
		[1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,],
		[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,],
		[1,0,2,0,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,0,0,2,0,1,],
		[1,0,0,0,1,0,0,0,0,0,0,0,0,1,1,1,0,1,1,0,0,0,0,1,],
		[1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,],
		[1,0,0,0,1,0,0,0,0,0,0,0,0,1,1,1,0,1,1,0,0,0,0,1,],
		[1,0,0,0,1,0,0,0,0,0,0,0,0,1,0,1,0,1,0,0,0,0,0,1,],
		[1,0,0,0,1,1,1,1,0,0,1,1,1,0,1,1,0,0,0,1,1,1,0,1,],
		[1,0,0,0,1,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,],
		[1,0,1,0,1,0,0,1,0,0,1,0,0,1,0,0,0,0,0,0,0,1,0,1,],
		[1,0,1,1,1,0,0,1,0,0,0,0,0,1,1,1,1,1,1,0,0,1,0,1,],
		[1,0,1,0,1,0,0,1,1,1,1,1,1,1,0,0,0,0,1,0,0,1,0,1,],
		[1,0,0,0,1,0,0,0,0,0,0,0,2,0,0,0,0,0,1,0,0,1,0,1,],
		[1,0,0,0,1,0,1,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,1,],
		[1,0,0,0,1,0,1,0,0,0,0,1,1,1,1,1,0,0,1,0,0,0,0,1,],
		[1,0,0,0,1,0,1,0,0,0,0,1,0,0,0,1,0,0,1,1,0,0,0,1,],
		[1,0,1,0,1,0,1,0,0,0,0,1,0,0,0,1,0,0,1,0,0,0,0,1,],
		[1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,1,0,0,1,0,1,],
		[1,0,1,1,1,1,1,0,0,0,0,1,0,2,0,0,0,0,0,0,0,1,0,1,],
		[1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1,],
		[1,0,1,1,0,0,1,1,0,0,0,1,0,0,0,1,0,0,1,0,0,1,0,1,],
		[1,0,1,0,0,2,0,1,0,2,0,1,0,0,0,1,0,0,1,0,0,1,0,1,],
		[1,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,],
		[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,],
		[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,]]
map = [
	[1,1,1,1,1],
	[1,0,0,0,1],
	[1,0,2,1,1],
	[1,0,0,0,1],
	[1,1,1,1,1],

]
const WALL_SIZE = 128

export let levels = [
	{
		walls: generateMap() 
		,
		spawnPoints: generateSpawnPoints(),
		sprites: [
		],
		entities: [

		],

		sceneSprites: [
			
		],
		elevations: [    
		],

		floorTextureId: 4,

		init: function() {
			objects.player.angle.setValue(340);
		}
		}
	,
	{

		walls: generateMap() 
		,
		spawnPoints: generateSpawnPoints(),
		sprites: [
		],
		entities: [

		],

		sceneSprites: [
			
		],
		elevations: [    
		],

		floorTextureId: 4,

		init: function() {
			objects.player.angle.setValue(340);
		}
}]
function generateMap() {
	let walls = []
	for (let i = 0; i < map.length; i++) {

		for (let j = 0; j < map.length; j++) {
			if (map[j+1]) {
				if (map[j][i] === 1 && map[j+1][i] === 1){ 
					walls.push(classes.Wall(j*WALL_SIZE, i*WALL_SIZE, (j+1)*WALL_SIZE, i*WALL_SIZE, 0, 0, 200, 200, 1))
				}
			}

			if (map[j][i+1]) {
				if (map[j][i] === 1 && map[j][i] === 1){ 
					walls.push(classes.Wall(j*WALL_SIZE, i*WALL_SIZE, (j)*WALL_SIZE, (i+1)*WALL_SIZE, 0, 0, 200, 200, 1))
				}
			}
		}

	}
	return walls;

	
}

function generateSpawnPoints() {
	let spawnPoints = [];
	for (let i = 0; i < map.length; i++) {

		for (let j = 0; j < map.length; j++) {

			if (map[j][i] === 2) {
				spawnPoints.push(
					{x: j*WALL_SIZE,
					 y: i*WALL_SIZE})
			}
		}

	}
	return spawnPoints
}
